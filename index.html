<!DOCTYPE html>
<meta charset="utf-8">
<style>

body {
  font: 10px sans-serif;
}

.chord {
  fill-opacity: .67;
}

path.fade {
  display: none;
}

</style>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
<script type="text/csv" id="committees">Committee/ Taskforce,Name,Terms of Reference,Link,Date,David Cameron,George Osborne,Matt Hancock,Oliver Letwin,Theresa May,Philip Hammond,Sajid Javid,Nicky Morgan,Justine Greening,Patrick McLoughlin,Liz Truss,Greg Clark,Michael Gove,Iain Duncan Smith,Ed Vaizey,Michael Fallon,Jeremy Hunt,Theresa Villiers,Chris Grayling,Greg Hands,Amber Rudd,John Whittingdale,Marcus Jones,Mark Harper,Anna Soubry,Robert Halfon,David Lidington,Priti Patel,Francis Maude,Lord Ahmad,David Gauke,Claire Perry,Stephen Crabb,David Mundell,Mike Penning,Brandon Lewis,Robert Goodwill,Damian Hinds,Harriet Baldwin,Greg Clark,Sam Gyimah,Baroness Stowell,Mark Harper,Jeremy Wright,Richard Keen,Lord Taylor,Edward Timpson,Baroness Shields,Karen Bradley,Therese Coffey,Nick Boles,Edward Timpson,Andrew Selous,Jane Ellison,Rob Wilson,Mark Lancaster,Lord Prior,Alistair Burt,Lord Bridges,James Brokenshire
T,Child Protection Taskforce,"Terms of reference
The taskforce’s terms of reference are to drive improvements in the protection of vulnerable children by:

extending and accelerating reforms to the quality of children’s social work practice and leadership
promoting innovative models of delivery
overhauling the way that police, social services and other agencies work together locally",https://www.gov.uk/government/news/pm-announces-new-taskforce-to-transform-child-protection,24/06/2015,,,,A,A,,,C,,,,A,A,A,,,A,,,A,,,,,,,,,,,,,,,,,,,,,,,,A,,,A,A,A,,,,,,,,,,,
T,Housing,"To drive efforts to increase the supply of new housing; helping
first-time buyers onto the property ladder; implementing Right to Buy and driving
public sector land sales.",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,,A,A,,,A,,,A,A,C,,,,,,,,A,,,,,,,,,,,,,,,,A,,,,,,,,,,,,,,,,,,,,A,A,,,
T,Health and Social Care,To deliver an integrated health and social care system,https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,,,A,,,,,,,,A,,,,,C,,,A,,,,,,,,A,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,A,,
T,Earn or Learn,"Help businesses to create two million new jobs to achieve full
employment; support three million new apprenticeships; make sure that all young
people are either earning or learning",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,,C,A,,,,A,,,,A,,A,,,,,,A,,,,,,,,A,,,,,,,,,,,,,,,,,,,,,,,A,,,,,,,,A,
T,Immigration,"Delivering annual net migration in the tens of thousands;
controlling migration from the European Union, including through reforming welfare
rules and reducing reliance on migrant labour; ensuring that there is a hostile
environment for illegal immigrants at work, in housing, and in accessing services;
clamping down on the exploitative employers and landlords who make it possible for
migrants to undercut local workers; enhancing UK border security, and ensuring that
visitors and immigrants who come to the UK contribute to growth.",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,C,A,,A,A,,A,A,,,,A,A,A,,,A,,,,,,,,,,A,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,A
T,Childcare," Driving the delivery of 30 hours of free childcare to working
parents of three and four year-olds and of tax-free childcare to support parents back
into work and driving further improvements in the supply of childcare.",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,,A,,,,,,,,,,,,,,,,,,,,A,,A,,,C,,,,,,,,,,A,,,A,,,,,,,,,,,,,A,,,,,A,
T,Tackling extremism in communities,"Keeping Britain safe by dealing with online radicalisation and
propaganda; tackling all forms of extremism so our values and our way of life are
properly promoted and defended",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,C,,,A,A,,A,A,,,,,A,A,,,,,,A,,A,,,,,,,,A,,,A,,,,,,,A,,,,,,,,,,,,,,,,,,,,
T,Troubled families," Clear away the red tape to improve the lives of the country’s
most troubled families.",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,,,A,,,,,,,,C,A,A,,,A,,,A,,,,,,,,,,,,,,,,,,,,,,,,,,,A,,A,,,,,,,,,,,
T,Exports,"Driving our goal to have 100,000 more UK companies exporting
in 2020 than in 2010 and reach the target of £1 trillion in exports and to lead Europe
in attracting inward investment",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,,A,A,,A,C,,A,,,,,,,A,,,,,,,,,,,,,A,,,,,,,,,,A,,,,,,,,,,,,,,,,,,,,,
T,Digital infrastructure and inclusion,"Driving the roll out of universal broadband and better mobile
phone connections, to ensure everyone is part of the digital economy",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,,A,A,,,,,,,A,,,,C,,,,,A,,,,,,,,,,,,A,,,,A,,,,,,,,,,,,,,,,,,,,,,,,
T,Syrian Returners,"Manage the return of people from Syria and mitigate the risk
they pose to the UK.",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,,,A,C,A,,,,,,A,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
C,Constitutional Reform Committee,To consider matters relating to constitutional reform within the United Kingdom.,https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,A,,C,A,,,,,,,,,A,,,,A,A,,,,,,,,,,,,,,A,A,,,,,,A,,A,A,A,,,,,,,,,,,,,,,,
C,Economic Affairs Committee,To consider issues relating to the economy.,https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,C,A,A,A,A,A,A,,A,A,,A,A,,,,A,,,A,A,,A,A,,,A,A,,A,,A,A,,,,,,A,,,,,,,,,,,,,,,,,,,,
C,Economic Affairs (Reducing Regulation sub-committee),To consider issues relating to reducing regulation,https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,,A,C,,,A,,,,A,,A,,,,,,A,A,,,,,A,A,A,A,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
C,Europe Committee,To consider issues related to the EU referendum.,https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,C,A,,A,A,A,A,,,,,,,A,,,,,,,,,,A,,,A,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
C,European Affairs Committee,To consider issues relating to the European Union ,https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,A,A,A,A,C,A,,,A,A,A,A,A,,,,,A,A,A,A,,,,,A,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
C,Home Affairs Committee,"To consider issues relating to home affairs, including migration, health, schools and
welfare.",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,,A,C,A,,A,A,,A,A,,A,A,,A,A,A,A,A,A,A,,A,,,,,,,,,A,A,,,,,,A,,,,A,,,,,,,,,,,,,,,,
C,Home Affairs (Armed Forces Covenant) sub-Committee,"To consider matters relating to our obligation to support current and former members
of the Armed Forces and their families.",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,C,,,A,,,,A,,,,,A,,,A,A,A,,,,,,,A,,,,,,,,A,A,A,A,A,A,,,,,,,,,,,,,,,,,,,,,,
C,National Security Council,"To consider matters relating to National Security, Foreign Policy, Defence, International Relations and Development, Resilience, Energy and Resource Security.",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,C,A,,A,A,A,A,,A,,,,,,,A,,,,,A,,,,,,,,,,,,,,,,,,,,,,,A,,,,,,,,,,,,,,,,
C,NSC (Nuclear Deterrence and Security) (restricted attendance) sub-Committee,To consider issues relating to nuclear deterrence and security. ,https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,C,A,,A,A,A,,,,,,,,,,A,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
C,"NSC (Threats, Hazards, Resilience and Contingencies) sub-Committee","To consider issues relating to terrorism and other security threats, hazards, resilience
and intelligence policy and the performance and resources of the security and
intelligence agencies; and report as necessary to the National Security Council. ",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,C,A,,A,A,A,A,A,,A,A,A,A,,,A,A,A,,,A,A,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
C,Parliamentary Business and Legislation Committee,"To consider issues relating to the Government’s Parliamentary business and
implementation of its legislative programme.",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,,,A,,,,,,,,,,,,,,A,C,A,,,,A,,,,,,,,,A,A,,,,,,,,A,,A,A,A,,,,A,,,,,,,,,,
C,Public Expenditure Committee,To consider issues relating to public expenditure.,https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,C,A,A,,,,,,,,,,,,,,,A,A,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
C,Public Expenditure (Efficiency) sub-Committee,"To consider issues relating to efficiency, asset sales and public sector pay and
pensions",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,,C,,A,,A,A,,,,A,A,A,,A,A,,,C,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
C,Social Justice Committee,"To consider issues relating to poverty, equality and social justice.",https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/433440/150608_Committee_list_for_publication.pdf,03/06/2015,,,A,A,A,,,A,A,,,A,,C,,,,,,A,,,,,,A,,A,,,,,A,,,,,,,,,,,,,,,,,,A,A,A,A,A,,,,,</script>
<script>

var outerRadius = 600 / 2,
    innerRadius = outerRadius - 130;

var chord = d3.layout.chord()
    .padding(.04)
    .sortSubgroups(d3.ascending)
    .sortChords(d3.ascending);

var arc = d3.svg.arc()
    .innerRadius(innerRadius)
    .outerRadius(innerRadius + 20);

var svg = d3.select("body").append("svg")
    .attr("width", outerRadius * 3)
    .attr("height", outerRadius * 3)
  .append("g")
    .attr("transform", "translate(" + outerRadius * 1.5 + "," + outerRadius * 1.5 + ")");

var 
  indexByName = d3.map(),
  nameByIndex = d3.map(),
  typeByIndex = d3.map(),
  matrix = [],
  n = 0,
  col = "",
  ministers = [];

var colors = {
  "minister": "#FC9E41",
  "committee": "#3B53AB",
  "taskforce": "#31BC55"
}

d3.csv.parse(document.getElementById('committees').firstChild.nodeValue, function (committee) {

  if (matrix.length === 0) {
    for (col in committee) {
      if (col !== "Committee/ Taskforce" && col !== "Name" && col !== "Terms of Reference" && col !== "Link" && col !== "Date") {
        matrix[n] = [];
        nameByIndex.set(n, col);
        typeByIndex.set(n, "minister");
        indexByName.set(col,n++);
      }
    };
    ministers = indexByName.keys();
  }

  nameByIndex.set(n, committee["Name"]);
  typeByIndex.set(n, committee["Committee/ Taskforce"] === "C" ? "committee" : "taskforce");
  indexByName.set(committee["Name"], n++);

  source = indexByName.get(committee["Name"]);
  matrix[source] = [];
  for (var m = 0; m < ministers.length; m++) {
    var minister = ministers[m];
    if (committee[minister] === 'A') {
      matrix[source][indexByName.get(minister)] = 1;
      matrix[indexByName.get(minister)][source] = 1;
    } else if (committee[minister] === 'C') {
      matrix[source][indexByName.get(minister)] = 2;
      matrix[indexByName.get(minister)][source] = 2;
    }
  }
});

for (var i = 0; i < n; i++) {
  for (var j = 0; j < n; j++) {
    if (matrix[i][j] === undefined) matrix[i][j] = 0;
  }
}

chord.matrix(matrix);

var g = svg.selectAll(".group")
    .data(chord.groups)
  .enter().append("g")
    .attr("class", "group")
    .on("mouseover", mouseover);

g.append("path")
    .style("fill", function(d) { return colors[typeByIndex.get(d.index)]; })
    .style("stroke", function(d) { return colors[typeByIndex.get(d.index)]; })
    .attr("d", arc);

g.append("text")
    .each(function(d) { d.angle = (d.startAngle + d.endAngle) / 2; })
    .attr("dy", ".35em")
    .attr("transform", function(d) {
      return "rotate(" + (d.angle * 180 / Math.PI - 90) + ")"
          + "translate(" + (innerRadius + 26) + ")"
          + (d.angle > Math.PI ? "rotate(180)" : "");
    })
    .style("text-anchor", function(d) { return d.angle > Math.PI ? "end" : null; })
    .text(function(d) { return nameByIndex.get(d.index); });

var chord = svg.selectAll(".chord")
    .data(chord.chords)
  .enter().append("path")
    .attr("class", "chord")
    .style("stroke", function(d) { return d.target.value === 2 ? colors[typeByIndex.get(d.target.index)] : "none" ; })
    .style("fill", function(d) { return colors[typeByIndex.get(d.target.index)]; })
    .attr("d", d3.svg.chord().radius(innerRadius));

d3.select(self.frameElement)
  .style("height", outerRadius * 2 + "px");

svg
  .on("click", showAll);

function mouseover(d, i) {
  chord.classed("fade", function(p) {
    return p.source.index != i
        && p.target.index != i;
  });
}

function showAll() {
  chord.classed("fade", false);
}

</script>